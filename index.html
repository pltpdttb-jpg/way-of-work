<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRU ACADEMY - Sales Master System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .hidden-section { display: none; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Custom Red for PRU style */
        .bg-pru-red { background-color: #ED1B24; }
        .text-pru-red { color: #ED1B24; }
        .border-pru-red { border-color: #ED1B24; }
    </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

    <section id="screen-welcome" class="flex-grow flex flex-col items-center justify-center bg-white fade-in relative overflow-hidden">
        <div class="absolute top-0 left-0 w-32 h-32 bg-red-50 rounded-br-full opacity-50"></div>
        <div class="absolute bottom-0 right-0 w-48 h-48 bg-gray-50 rounded-tl-full opacity-50"></div>

        <div class="text-center z-10 px-6">
            <div class="mb-6">
                <h1 class="text-5xl md:text-6xl font-bold tracking-tighter text-gray-800">
                    PRU <span class="text-pru-red">ACADEMY</span>
                </h1>
                <p class="text-gray-500 mt-2 text-lg tracking-widest">SALES EXCELLENCE SYSTEM</p>
            </div>
            
            <div class="space-y-4">
                <p class="text-gray-600 mb-8 max-w-md mx-auto">
                    ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û
                </p>
                <button onclick="navigateTo('screen-menu')" class="px-8 py-3 bg-pru-red text-white text-xl font-bold rounded-full shadow-lg hover:bg-red-700 transition transform hover:scale-105">
                    ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
    </section>

    <section id="screen-menu" class="hidden-section flex-grow flex flex-col items-center justify-center bg-gray-50 fade-in py-10">
        <div class="max-w-4xl w-full px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-gray-800">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
                <p class="text-gray-500">Select your mode</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div onclick="startTrainingMode()" class="bg-white p-8 rounded-2xl shadow-md hover:shadow-xl transition cursor-pointer border-l-8 border-blue-500 group">
                    <div class="flex items-center justify-between mb-4">
                        <div class="p-3 bg-blue-100 rounded-lg group-hover:bg-blue-500 transition">
                            <i class="fas fa-calculator text-2xl text-blue-600 group-hover:text-white"></i>
                        </div>
                        <span class="text-xs font-bold text-gray-400">PART 1</span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (Drill Mode)</h3>
                    <p class="text-gray-500 text-sm">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì APE Submit ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Conversion Rate ‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏™‡∏°‡∏°‡∏ï‡∏¥</p>
                </div>

                <div onclick="navigateTo('screen-planning')" class="bg-white p-8 rounded-2xl shadow-md hover:shadow-xl transition cursor-pointer border-l-8 border-pru-red group">
                    <div class="flex items-center justify-between mb-4">
                        <div class="p-3 bg-red-100 rounded-lg group-hover:bg-pru-red transition">
                            <i class="fas fa-chart-line text-2xl text-pru-red group-hover:text-white"></i>
                        </div>
                        <span class="text-xs font-bold text-gray-400">PART 2</span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á (Planning)</h3>
                    <p class="text-gray-500 text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö ‡∏´‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Lead ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ ‡∏û‡∏£‡πâ‡∏≠‡∏° AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤</p>
                </div>
            </div>

            <div class="mt-12 text-center">
                <button onclick="navigateTo('screen-welcome')" class="text-gray-400 hover:text-gray-600 underline">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
            </div>
        </div>
    </section>

    <section id="screen-training" class="hidden-section flex-grow bg-gray-50 py-8 px-4 fade-in">
        <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="bg-blue-600 p-6 text-white flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold"><i class="fas fa-dumbbell mr-2"></i> Training Drill</h2>
                    <p class="text-blue-100 text-sm">‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì APE ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</p>
                </div>
                <button onclick="navigateTo('screen-menu')" class="text-blue-200 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>

            <div class="p-6">
                <div class="mb-8 p-6 bg-blue-50 rounded-lg border border-blue-200">
                    <h3 class="font-bold text-blue-800 mb-4 text-lg">üìù ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                        <div class="bg-white p-3 rounded shadow-sm">
                            <div class="text-xs text-gray-500">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ APE (Issue)</div>
                            <div class="text-xl font-bold text-gray-800" id="tr-target-ape">0</div>
                        </div>
                        <div class="bg-white p-3 rounded shadow-sm">
                            <div class="text-xs text-gray-500">Issue Rate (‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥)</div>
                            <div class="text-xl font-bold text-blue-600" id="tr-issue-rate">0%</div>
                        </div>
                        <div class="bg-white p-3 rounded shadow-sm">
                            <div class="text-xs text-gray-500">Total APE ‡πÄ‡∏î‡∏¥‡∏°</div>
                            <div class="text-gray-600" id="tr-hist-ape">-</div>
                        </div>
                        <div class="bg-white p-3 rounded shadow-sm">
                            <div class="text-xs text-gray-500">Total Case ‡πÄ‡∏î‡∏¥‡∏°</div>
                            <div class="text-gray-600" id="tr-hist-case">-</div>
                        </div>
                    </div>
                </div>

                <div id="training-step-calc" class="mb-8">
                    <label class="block text-gray-700 font-bold mb-2">üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏µ‡πà 1: ‡∏Å‡∏£‡∏≠‡∏Å‡∏¢‡∏≠‡∏î APE Submit ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ</label>
                    <p class="text-sm text-gray-500 mb-3">(‡πÉ‡∏ö‡πâ: ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏π‡∏ì‡∏Å‡∏±‡∏ö Issue Rate ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢?)</p>
                    
                    <div class="flex gap-3 max-w-md">
                        <input type="number" id="inp-user-submit" placeholder="‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç APE Submit" class="flex-1 border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none">
                        <button onclick="checkTrainingAnswer()" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>
                    </div>
                    <p id="calc-feedback" class="mt-2 font-bold hidden"></p>
                </div>

                <div id="training-step-funnel" class="hidden-section border-t pt-8">
                    <h3 class="font-bold text-gray-800 mb-4">üìä ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏µ‡πà 2: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ (Funnel)</h3>
                    <p class="text-sm text-gray-500 mb-6">‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏£‡∏¥‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì % Conversion ‡πÉ‡∏´‡πâ</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">1. ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ (Leads)</label>
                                <input type="number" id="tr-lead" class="w-full border rounded px-3 py-2 bg-gray-50" placeholder="0" oninput="calcTrainingFunnel()">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">2. ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡∏£ (Calls)</label>
                                <input type="number" id="tr-call" class="w-full border rounded px-3 py-2 bg-gray-50" placeholder="0" oninput="calcTrainingFunnel()">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">3. ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏î‡πâ (Appt/Met)</label>
                                <input type="number" id="tr-appt" class="w-full border rounded px-3 py-2 bg-gray-50" placeholder="0" oninput="calcTrainingFunnel()">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">4. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏ö/‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ (Presented)</label>
                                <input type="number" id="tr-present" class="w-full border rounded px-3 py-2 bg-gray-50" placeholder="0" oninput="calcTrainingFunnel()">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">5. ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Closed)</label>
                                <input type="number" id="tr-close" class="w-full border rounded px-3 py-2 bg-green-50 border-green-200" placeholder="0" oninput="calcTrainingFunnel()">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">6. Case Size ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (‡∏ö‡∏≤‡∏ó)</label>
                                <input type="number" id="tr-casesize" class="w-full border rounded px-3 py-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô 25000" oninput="calcTrainingFunnel()">
                            </div>
                        </div>

                        <div class="bg-gray-800 text-white rounded-xl p-5 shadow-inner">
                            <h4 class="text-center font-bold text-yellow-400 mb-4">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</h4>
                            
                            <div class="space-y-4 text-sm">
                                <div class="flex justify-between items-center border-b border-gray-700 pb-2">
                                    <span>Call Rate (Lead‚ÜíCall)</span>
                                    <span id="res-rate-1" class="font-bold text-yellow-300">0%</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-gray-700 pb-2">
                                    <span>Appt Rate (Call‚ÜíAppt)</span>
                                    <span id="res-rate-2" class="font-bold text-yellow-300">0%</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-gray-700 pb-2">
                                    <span>Show Rate (Appt‚ÜíPresent)</span>
                                    <span id="res-rate-3" class="font-bold text-yellow-300">0%</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-gray-700 pb-2">
                                    <span>Closing Rate (Present‚ÜíClose)</span>
                                    <span id="res-rate-4" class="font-bold text-green-400">0%</span>
                                </div>
                            </div>

                            <div class="mt-6 text-center">
                                <div class="text-gray-400 text-xs uppercase">Total APE ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ</div>
                                <div class="text-3xl font-bold text-white" id="res-final-ape">0</div>
                                <div class="text-xs text-gray-400">‡∏ö‡∏≤‡∏ó</div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="screen-planning" class="hidden-section flex-grow bg-gray-50 py-8 px-4 fade-in">
        <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="bg-pru-red p-6 text-white flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold"><i class="fas fa-compass mr-2"></i> Planning Tool</h2>
                    <p class="text-red-100 text-sm">‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô</p>
                </div>
                <button onclick="navigateTo('screen-menu')" class="text-red-200 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>

            <div class="p-6">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="space-y-5">
                        <div class="bg-red-50 p-4 rounded-lg border border-red-100">
                            <label class="block text-gray-800 font-bold mb-1">üéØ 1. ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ APE (Issue) ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</label>
                            <input type="number" id="pl-target" class="w-full text-xl font-bold text-pru-red border-b-2 border-red-300 bg-transparent focus:outline-none" value="100000" oninput="calculatePlan()">
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-500 font-bold">Issue Rate (%)</label>
                                <input type="number" id="pl-issue-rate" class="w-full border rounded px-3 py-2" value="85" oninput="calculatePlan()">
                            </div>
                            <div>
                                <label class="text-xs text-gray-500 font-bold">Case Size ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (‡∏ö‡∏≤‡∏ó)</label>
                                <input type="number" id="pl-casesize" class="w-full border rounded px-3 py-2" value="25000" oninput="calculatePlan()">
                            </div>
                        </div>

                        <hr>
                        <h4 class="font-bold text-gray-700">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ Conversion ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (%)</h4>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="text-xs text-gray-500">Contact Rate (Lead->Call)</label>
                                <div class="flex items-center"><input type="number" id="pl-rate1" class="w-16 border rounded px-2 py-1 mr-1" value="50" oninput="calculatePlan()"> %</div>
                            </div>
                            <div>
                                <label class="text-xs text-gray-500">Appt Rate (Call->Appt)</label>
                                <div class="flex items-center"><input type="number" id="pl-rate2" class="w-16 border rounded px-2 py-1 mr-1" value="30" oninput="calculatePlan()"> %</div>
                            </div>
                            <div>
                                <label class="text-xs text-gray-500">Show Rate (Appt->Present)</label>
                                <div class="flex items-center"><input type="number" id="pl-rate3" class="w-16 border rounded px-2 py-1 mr-1" value="70" oninput="calculatePlan()"> %</div>
                            </div>
                            <div>
                                <label class="text-xs text-gray-500">Closing Rate (Present->Close)</label>
                                <div class="flex items-center"><input type="number" id="pl-rate4" class="w-16 border rounded px-2 py-1 mr-1" value="40" oninput="calculatePlan()"> %</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-50 rounded-xl p-6 border border-gray-200 flex flex-col justify-between">
                        <div>
                            <h3 class="text-lg font-bold text-gray-800 mb-4 border-b pb-2">üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</h3>
                            
                            <div class="mb-4">
                                <div class="text-sm text-gray-500">‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ APE Submit (‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô)</div>
                                <div class="text-xl font-bold text-gray-800"><span id="pl-res-submit">0</span> ‡∏ö‡∏≤‡∏ó</div>
                            </div>

                            <div class="mb-4">
                                <div class="text-sm text-gray-500">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ (‡∏£‡∏≤‡∏¢)</div>
                                <div class="text-2xl font-bold text-green-600"><span id="pl-res-cases">0</span> ‡∏£‡∏≤‡∏¢</div>
                            </div>

                            <div class="bg-indigo-900 text-white p-4 rounded-lg shadow-lg text-center transform scale-105">
                                <div class="text-xs text-indigo-300 uppercase tracking-widest">‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ Lead ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                                <div class="text-4xl font-bold mt-1" id="pl-res-leads">0</div>
                                <div class="text-xs text-indigo-300 mt-1">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏∏‡πà‡∏á‡∏´‡∏ß‡∏±‡∏á</div>
                            </div>
                        </div>

                        <div class="mt-6 bg-yellow-50 p-4 rounded border border-yellow-200">
                            <div class="flex items-start">
                                <i class="fas fa-lightbulb text-yellow-500 mt-1 mr-2"></i>
                                <div>
                                    <h4 class="font-bold text-yellow-800 text-sm">‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Coach)</h4>
                                    <p id="pl-coach-msg" class="text-xs text-gray-700 mt-1">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer class="bg-gray-800 text-white text-center py-4 mt-auto">
        <div class="container mx-auto px-4">
            <p class="text-sm font-light opacity-80">
                &copy; 2026 PRU ACADEMY [ttb training team]. All Rights Reserved.
            </p>
        </div>
    </footer>

    <script>
        // --- Navigation Logic ---
        function navigateTo(screenId) {
            // Hide all screens
            document.querySelectorAll('section[id^="screen-"]').forEach(el => {
                el.classList.add('hidden-section');
            });
            // Show target screen
            document.getElementById(screenId).classList.remove('hidden-section');
            // Reset scroll
            window.scrollTo(0, 0);
        }

        // --- Training Mode Logic ---
        let currentTargetAPE = 0;
        let currentIssueRate = 0;

        function startTrainingMode() {
            // 1. Generate Random Target (Scenario)
            currentTargetAPE = Math.floor(Math.random() * 5 + 1) * 100000; // 100k - 500k
            currentIssueRate = [80, 85, 90][Math.floor(Math.random() * 3)]; // 80, 85, or 90%
            
            // Random historical data
            const histAPE = Math.floor(Math.random() * 500000 + 200000).toLocaleString();
            const histCase = Math.floor(Math.random() * 10 + 2);

            // 2. Set UI
            document.getElementById('tr-target-ape').innerText = currentTargetAPE.toLocaleString();
            document.getElementById('tr-issue-rate').innerText = currentIssueRate + "%";
            document.getElementById('tr-hist-ape').innerText = histAPE;
            document.getElementById('tr-hist-case').innerText = histCase;

            // Reset Input & Steps
            document.getElementById('inp-user-submit').value = '';
            document.getElementById('calc-feedback').classList.add('hidden');
            document.getElementById('training-step-funnel').classList.add('hidden-section');

            // Go to screen
            navigateTo('screen-training');
        }

        function checkTrainingAnswer() {
            const userSubmit = parseFloat(document.getElementById('inp-user-submit').value);
            const feedback = document.getElementById('calc-feedback');

            // Logic: Submit * Issue% = Target  => Submit = Target / Issue%
            const correctSubmit = currentTargetAPE / (currentIssueRate / 100);
            
            // Allow small margin of error (rounding)
            const margin = 100; 
            
            if (userSubmit >= (correctSubmit - margin) && userSubmit <= (correctSubmit + margin)) {
                feedback.innerHTML = `<span class="text-green-600"><i class="fas fa-check-circle"></i> ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! (Submit ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏≠ ~${Math.round(correctSubmit).toLocaleString()})</span>`;
                feedback.classList.remove('hidden');
                // Unlock Next Step
                setTimeout(() => {
                    document.getElementById('training-step-funnel').classList.remove('hidden-section');
                    // Scroll down
                    document.getElementById('training-step-funnel').scrollIntoView({behavior: "smooth"});
                }, 800);
            } else {
                feedback.innerHTML = `<span class="text-red-600"><i class="fas fa-times-circle"></i> ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡∏°‡πà: ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ${currentTargetAPE.toLocaleString()} / ${currentIssueRate}%</span>`;
                feedback.classList.remove('hidden');
            }
        }

        function calcTrainingFunnel() {
            const lead = parseFloat(document.getElementById('tr-lead').value) || 0;
            const call = parseFloat(document.getElementById('tr-call').value) || 0;
            const appt = parseFloat(document.getElementById('tr-appt').value) || 0;
            const present = parseFloat(document.getElementById('tr-present').value) || 0;
            const close = parseFloat(document.getElementById('tr-close').value) || 0;
            const size = parseFloat(document.getElementById('tr-casesize').value) || 0;

            // Calculate Rates
            const r1 = lead > 0 ? (call/lead)*100 : 0;
            const r2 = call > 0 ? (appt/call)*100 : 0;
            const r3 = appt > 0 ? (present/appt)*100 : 0;
            const r4 = present > 0 ? (close/present)*100 : 0;

            // Update UI
            document.getElementById('res-rate-1').innerText = r1.toFixed(1) + '%';
            document.getElementById('res-rate-2').innerText = r2.toFixed(1) + '%';
            document.getElementById('res-rate-3').innerText = r3.toFixed(1) + '%';
            document.getElementById('res-rate-4').innerText = r4.toFixed(1) + '%';

            // Final APE
            const totalAPE = close * size;
            document.getElementById('res-final-ape').innerText = totalAPE.toLocaleString();
        }

        // --- Planning Mode Logic ---
        function calculatePlan() {
            // Inputs
            const target = parseFloat(document.getElementById('pl-target').value) || 0;
            const issueRate = parseFloat(document.getElementById('pl-issue-rate').value) || 100;
            const caseSize = parseFloat(document.getElementById('pl-casesize').value) || 0;
            
            const r1 = parseFloat(document.getElementById('pl-rate1').value) / 100; // Lead->Call
            const r2 = parseFloat(document.getElementById('pl-rate2').value) / 100; // Call->Appt
            const r3 = parseFloat(document.getElementById('pl-rate3').value) / 100; // Appt->Present
            const r4 = parseFloat(document.getElementById('pl-rate4').value) / 100; // Present->Close

            // Backward Calculation
            // 1. Submit Needed
            const submitNeeded = target / (issueRate / 100);
            
            // 2. Cases Needed
            const casesNeeded = caseSize > 0 ? submitNeeded / caseSize : 0;

            // 3. Funnel Reverse
            // Close = casesNeeded
            // Present = Close / r4
            // Appt = Present / r3
            // Call = Appt / r2
            // Lead = Call / r1
            
            let reqPresent = r4 > 0 ? casesNeeded / r4 : 0;
            let reqAppt = r3 > 0 ? reqPresent / r3 : 0;
            let reqCall = r2 > 0 ? reqAppt / r2 : 0;
            let reqLead = r1 > 0 ? reqCall / r1 : 0;

            // Update UI Results
            document.getElementById('pl-res-submit').innerText = Math.round(submitNeeded).toLocaleString();
            document.getElementById('pl-res-cases').innerText = Math.ceil(casesNeeded);
            document.getElementById('pl-res-leads').innerText = Math.ceil(reqLead).toLocaleString();

            // AI Coach Logic (Weakness Detection)
            let advice = [];
            if (r4 < 0.3) advice.push("‚ùå ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 30%: ‡∏Ñ‡∏ß‡∏£‡∏ù‡∏∂‡∏Å‡∏ö‡∏ó‡∏ö‡∏ó‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á (Objection Handling) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£ Closing");
            if (r2 < 0.2) advice.push("‚ùå ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ï‡πà‡∏≥: ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ö‡∏ó Script ‡∏ó‡∏≤‡∏á‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏Ç‡∏∂‡πâ‡∏ô");
            if (r1 < 0.4) advice.push("‚ùå ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≥: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ (Lead Quality) ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏ó‡∏£");
            if (caseSize < 20000) advice.push("‚ö†Ô∏è ‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≠‡πÄ‡∏Ñ‡∏™‡∏ô‡πâ‡∏≠‡∏¢: ‡∏•‡∏≠‡∏á‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (Up-selling)");

            if (advice.length === 0) {
                document.getElementById('pl-coach-msg').innerHTML = "<span class='text-green-600'>‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç Conversion ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏î‡∏µ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</span>";
            } else {
                document.getElementById('pl-coach-msg').innerHTML = advice.join("<br>");
            }
        }

        // Init Planning on load
        calculatePlan();

    </script>
</body>
</html>
