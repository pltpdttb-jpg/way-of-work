<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Funnel Simulator & Learning System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .slider-thumb::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #4F46E5;
            cursor: pointer;
            border-radius: 50%;
        }
        .funnel-bar { transition: all 0.5s ease-in-out; }
    </style>
</head>
<body class="bg-slate-100 min-h-screen p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <header class="mb-8 text-center md:text-left">
            <h1 class="text-3xl md:text-4xl font-bold text-indigo-900">üéØ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ (Sales Simulator)</h1>
            <p class="text-gray-600 mt-2">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç: ‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ Conversion Rate ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ APE</p>
        </header>

        <div class="bg-white rounded-xl shadow-sm p-4 mb-6">
            <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3">‚ö° ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡∏à‡∏≤‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏à‡∏£‡∏¥‡∏á)</h3>
            <div class="flex flex-wrap gap-3">
                <button onclick="loadScenario('cisa1')" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition text-sm font-medium">
                    üë§ CISA 1 (‡∏ô‡∏≤‡∏¢ A) - ‡πÄ‡∏ô‡πâ‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì
                </button>
                <button onclick="loadScenario('cisa2')" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition text-sm font-medium">
                    üë§ CISA 2 (‡∏ô‡∏≤‡∏¢ B) - ‡πÄ‡∏ô‡πâ‡∏ô‡πÄ‡∏Ñ‡∏™‡πÉ‡∏´‡∏ç‡πà
                </button>
                <button onclick="loadScenario('cfsa')" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition text-sm font-medium">
                    üë§ CFSA (‡∏à‡∏∏‡πä‡∏ö‡∏à‡∏¥‡πä‡∏ö) - ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á
                </button>
                <button onclick="resetDefault()" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition text-sm font-medium">
                    üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                </button>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            
            <div class="lg:col-span-5 space-y-6">
                
                <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-indigo-500">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">üéõÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πâ‡∏ô (Inputs)</h2>
                    
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏∏‡πà‡∏á‡∏´‡∏ß‡∏±‡∏á (Leads)</label>
                        <div class="flex items-center gap-3">
                            <input type="number" id="inputLead" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" value="25">
                            <span class="text-gray-500 text-sm w-12">‡∏£‡∏≤‡∏¢</span>
                        </div>
                    </div>

                    <div class="mb-8">
                        <label class="block text-gray-700 font-medium mb-1">‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡πÄ‡∏Ñ‡∏™ (Ticket Size)</label>
                        <div class="flex items-center gap-3">
                            <input type="number" id="inputTicket" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" value="100000">
                            <span class="text-gray-500 text-sm w-12">‡∏ö‡∏≤‡∏ó</span>
                        </div>
                    </div>

                    <hr class="border-gray-200 my-4">

                    <div class="space-y-6">
                        <div>
                            <div class="flex justify-between mb-1">
                                <label class="text-sm font-medium text-gray-600">Step 1 ‚Üí 2: ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏î‡∏û‡∏ö (Lead to Met)</label>
                                <span class="text-indigo-600 font-bold" id="valRate1">60%</span>
                            </div>
                            <input type="range" id="rangeRate1" min="0" max="100" value="60" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>

                        <div>
                            <div class="flex justify-between mb-1">
                                <label class="text-sm font-medium text-gray-600">Step 2 ‚Üí 3: ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ (Met to Presented)</label>
                                <span class="text-indigo-600 font-bold" id="valRate2">80%</span>
                            </div>
                            <input type="range" id="rangeRate2" min="0" max="100" value="80" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>

                        <div>
                            <div class="flex justify-between mb-1">
                                <label class="text-sm font-medium text-gray-600">Step 3 ‚Üí 4: ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ (Closing Ratio)</label>
                                <span class="text-indigo-600 font-bold" id="valRate3">50%</span>
                            </div>
                            <input type="range" id="rangeRate3" min="0" max="100" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>
                    </div>
                </div>
                
                <div class="bg-yellow-50 rounded-xl p-4 border border-yellow-200">
                    <h4 class="font-bold text-yellow-800 mb-2">üí° ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏¥‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:</h4>
                    <p class="text-sm text-yellow-800 leading-relaxed" id="learningTip">
                        ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢" ‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á 10% ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏¢‡∏≠‡∏î APE ‡∏£‡∏ß‡∏°‡∏î‡∏π‡∏™‡∏¥‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏≠‡∏≤‡∏à‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏•‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
                    </p>
                </div>
            </div>

            <div class="lg:col-span-7 space-y-6">
                
                <div class="bg-gradient-to-r from-indigo-600 to-blue-600 rounded-xl shadow-lg p-6 text-white text-center">
                    <h3 class="text-lg opacity-90 font-light mb-1">‡∏¢‡∏≠‡∏î‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå (Total APE)</h3>
                    <div class="text-4xl md:text-5xl font-bold tracking-tight" id="displayAPE">600,000</div>
                    <div class="text-sm opacity-80 mt-2">‡∏ö‡∏≤‡∏ó (THB)</div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-6">üìä Sales Funnel Visualization</h3>
                    
                    <div class="space-y-4">
                        <div class="relative">
                            <div class="flex justify-between text-xs text-gray-500 mb-1">
                                <span>STEP 1: LEADS</span>
                                <span class="font-bold text-gray-700"><span id="countLead">25</span> ‡∏£‡∏≤‡∏¢</span>
                            </div>
                            <div class="w-full bg-gray-100 rounded-full h-10 overflow-hidden relative">
                                <div id="barLead" class="funnel-bar h-full bg-blue-200 flex items-center pl-3 text-blue-800 font-bold" style="width: 100%;">
                                    100%
                                </div>
                            </div>
                        </div>

                        <div class="relative">
                            <div class="flex justify-between text-xs text-gray-500 mb-1">
                                <span>STEP 2: MET (‡πÑ‡∏î‡πâ‡∏û‡∏ö)</span>
                                <span class="font-bold text-gray-700"><span id="countMet">15</span> ‡∏£‡∏≤‡∏¢</span>
                            </div>
                            <div class="w-full bg-gray-100 rounded-full h-10 overflow-hidden relative">
                                <div id="barMet" class="funnel-bar h-full bg-blue-300 flex items-center pl-3 text-blue-900 font-bold" style="width: 60%;">
                                    <span id="txtRate1">60%</span>
                                </div>
                            </div>
                        </div>

                        <div class="relative">
                            <div class="flex justify-between text-xs text-gray-500 mb-1">
                                <span>STEP 3: PRESENTED (‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠)</span>
                                <span class="font-bold text-gray-700"><span id="countPresented">12</span> ‡∏£‡∏≤‡∏¢</span>
                            </div>
                            <div class="w-full bg-gray-100 rounded-full h-10 overflow-hidden relative">
                                <div id="barPresented" class="funnel-bar h-full bg-indigo-400 flex items-center pl-3 text-white font-bold" style="width: 48%;">
                                    <span id="txtRate2">80%</span>
                                </div>
                            </div>
                        </div>

                        <div class="relative">
                            <div class="flex justify-between text-xs text-gray-500 mb-1">
                                <span>STEP 4: CLOSED (‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢)</span>
                                <span class="font-bold text-green-600 text-lg"><span id="countClosed">6</span> ‡∏£‡∏≤‡∏¢</span>
                            </div>
                            <div class="w-full bg-gray-100 rounded-full h-12 overflow-hidden relative border-2 border-green-100">
                                <div id="barClosed" class="funnel-bar h-full bg-green-500 flex items-center pl-3 text-white font-bold" style="width: 24%;">
                                    <span id="txtRate3">50%</span> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100 text-center">
                        <div class="text-xs text-gray-500 uppercase">Conversion ‡∏£‡∏ß‡∏°</div>
                        <div class="text-xl font-bold text-gray-800" id="totalConversion">24%</div>
                        <div class="text-xs text-gray-400">‡∏à‡∏≤‡∏Å Lead ‡∏™‡∏π‡πà‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100 text-center">
                        <div class="text-xs text-gray-500 uppercase">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≠ Lead</div>
                        <div class="text-xl font-bold text-green-600" id="valuePerLead">24,000</div>
                        <div class="text-xs text-gray-400">‡∏ö‡∏≤‡∏ó (APE / Leads)</div>
                    </div>
                </div>

            </div>
        </div>
        
        <footer class="mt-12 text-center text-gray-400 text-sm pb-8">
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á Sales Funnel ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ Sales Activity</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const inputLead = document.getElementById('inputLead');
        const inputTicket = document.getElementById('inputTicket');
        
        const rangeRate1 = document.getElementById('rangeRate1');
        const rangeRate2 = document.getElementById('rangeRate2');
        const rangeRate3 = document.getElementById('rangeRate3');

        const valRate1 = document.getElementById('valRate1');
        const valRate2 = document.getElementById('valRate2');
        const valRate3 = document.getElementById('valRate3');

        const displayAPE = document.getElementById('displayAPE');
        const countLead = document.getElementById('countLead');
        const countMet = document.getElementById('countMet');
        const countPresented = document.getElementById('countPresented');
        const countClosed = document.getElementById('countClosed');

        const barMet = document.getElementById('barMet');
        const barPresented = document.getElementById('barPresented');
        const barClosed = document.getElementById('barClosed');
        
        const txtRate1 = document.getElementById('txtRate1');
        const txtRate2 = document.getElementById('txtRate2');
        const txtRate3 = document.getElementById('txtRate3');

        const learningTip = document.getElementById('learningTip');
        const totalConversion = document.getElementById('totalConversion');
        const valuePerLead = document.getElementById('valuePerLead');

        // Main Calculation Function
        function calculateFunnel() {
            // Get Values
            let leads = parseInt(inputLead.value) || 0;
            let ticket = parseInt(inputTicket.value) || 0;
            let r1 = parseInt(rangeRate1.value);
            let r2 = parseInt(rangeRate2.value);
            let r3 = parseInt(rangeRate3.value);

            // Update Text Displays for Sliders
            valRate1.innerText = r1 + '%';
            valRate2.innerText = r2 + '%';
            valRate3.innerText = r3 + '%';
            txtRate1.innerText = r1 + '%';
            txtRate2.innerText = r2 + '%';
            txtRate3.innerText = r3 + '%';

            // Calculate People Count (Round down implies realistic full persons)
            // Step 1 -> 2
            let met = Math.round(leads * (r1 / 100));
            // Step 2 -> 3
            let presented = Math.round(met * (r2 / 100));
            // Step 3 -> 4
            let closed = Math.round(presented * (r3 / 100));

            // Calculate Money
            let totalAPE = closed * ticket;
            let conversionTotal = leads > 0 ? ((closed / leads) * 100).toFixed(1) : 0;
            let valPerLead = leads > 0 ? (totalAPE / leads).toFixed(0) : 0;

            // Update UI Numbers
            countLead.innerText = leads.toLocaleString();
            countMet.innerText = met.toLocaleString();
            countPresented.innerText = presented.toLocaleString();
            countClosed.innerText = closed.toLocaleString();
            displayAPE.innerText = totalAPE.toLocaleString();
            totalConversion.innerText = conversionTotal + '%';
            valuePerLead.innerText = parseInt(valPerLead).toLocaleString();

            // Update Bar Visual Widths (Relative to Leads being 100%)
            // We use a minimum width so text doesn't disappear if % is low
            let widthMet = (met / leads) * 100;
            let widthPresented = (presented / leads) * 100;
            let widthClosed = (closed / leads) * 100;

            barMet.style.width = Math.max(widthMet, 0) + '%';
            barPresented.style.width = Math.max(widthPresented, 0) + '%';
            barClosed.style.width = Math.max(widthClosed, 0) + '%';

            // Dynamic Learning Tips
            generateTip(leads, ticket, r3, totalAPE);
        }

        function generateTip(leads, ticket, closeRate, ape) {
            if (closeRate < 30) {
                learningTip.innerText = "üí° Tip: ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ (Step 4) ‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πà‡∏≥ ‡∏•‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏ö‡∏ó Sales Script ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö";
            } else if (leads < 10) {
                learningTip.innerText = "üí° Tip: ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Lead ‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏•‡∏≠‡∏á‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏°‡∏∏‡πà‡∏á‡∏´‡∏ß‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (Step 1) ‡∏Ñ‡∏£‡∏±‡∏ö";
            } else if (ticket < 50000) {
                learningTip.innerText = "üí° Tip: ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏¢‡∏≠‡∏î ‡∏•‡∏≠‡∏á‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏î‡∏π‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?";
            } else {
                learningTip.innerText = "‚ú® ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏î‡∏π‡∏™‡∏°‡∏î‡∏∏‡∏• ‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏•‡πà‡∏ô‡∏î‡∏π‡∏ß‡πà‡∏≤ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° Lead ‡∏≠‡∏µ‡∏Å 10% ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?";
            }
        }

        // Scenario Loader
        function loadScenario(type) {
            if (type === 'cisa1') {
                // ‡∏ô‡∏≤‡∏¢ A
                inputLead.value = 25;
                inputTicket.value = 100000;
                rangeRate1.value = 60; // 25 -> 15
                rangeRate2.value = 80; // 15 -> 12
                rangeRate3.value = 50; // 12 -> 6
            } else if (type === 'cisa2') {
                // ‡∏ô‡∏≤‡∏¢ B
                inputLead.value = 14;
                inputTicket.value = 200000;
                rangeRate1.value = 70; // 14 -> 10
                rangeRate2.value = 70; // 10 -> 7
                rangeRate3.value = 45; // 7 -> 3 (approx)
            } else if (type === 'cfsa') {
                // ‡∏à‡∏∏‡πä‡∏ö‡∏à‡∏¥‡πä‡∏ö High Perf
                inputLead.value = 12;
                inputTicket.value = 300000; // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û
                rangeRate1.value = 80;
                rangeRate2.value = 80;
                rangeRate3.value = 80;
            }
            calculateFunnel();
        }

        function resetDefault() {
            inputLead.value = 25;
            inputTicket.value = 100000;
            rangeRate1.value = 60;
            rangeRate2.value = 80;
            rangeRate3.value = 50;
            calculateFunnel();
        }

        // Event Listeners
        [inputLead, inputTicket, rangeRate1, rangeRate2, rangeRate3].forEach(el => {
            el.addEventListener('input', calculateFunnel);
        });

        // Initialize
        calculateFunnel();

    </script>
</body>
</html>
